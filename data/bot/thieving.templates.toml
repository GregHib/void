[pickpocketting_template]
requires = [
    { skill = { id = "constitution", min = 100 } },
    { skill = { id = "thieving", min = 1, max = 10 } },
]
setup = [
    { inventory_space = { min = 1 } },
    { area = { id = "$location" } },
]
actions = [
    { option = "Pickpocket", npc = "$npc" },
    { restart = true, wait_if = [{ variable = "delay", min = 0, default = -1 }, { clock = "stunned", min = 0 }], success = { skill = "constitution", max = 20 } }
]
produces = [
    { carries = { id = "coins" } },
    { skill = { id = "thieving" } }
]