[fletching_arrow_shafts_template]
requires = [
    { owns = { id = "$logs", min = 27 } }
]
setup = [
    { area = { id = "$location" } },
    { carries = [{ id = "knife" }, { id = "$logs", min = 27 }] },
]
actions = [
    { item = "knife", on = "$logs", success = { interface_open = { id = "dialogue_skill_creation" } } },
    { option = "All", interface = "skill_creation_amount:all" },
    { continue = "dialogue_skill_creation:choice1" },
    { restart = true, wait_if = [{ has_queue = { id = "fletching" } }], success = { inventory_space = { min = 26 } } }
]
produces = [
    { carries = { id = "arrow_shafts" } },
    { skill = { id = "fletching" } }
]

[fletching_shortbow_template]
requires = [
    { owns = { id = "$logs", min = 27 } }
]
setup = [
    { area = { id = "$location" } },
    { carries = [{ id = "knife" }, { id = "$logs", min = 27 }] },
]
actions = [
    { item = "knife", on = "$logs" },
    { option = "All", interface = "skill_creation_amount:all" },
    { continue = "dialogue_skill_creation:choice2", success = { has_queue = { id = "fletching" } } },
    { restart = true, success = { inventory_space = { min = 26 } } }
]
produces = [
    { skill = { id = "fletching" } }
]

[fletching_longbow_template]
requires = [
    { owns = { id = "$logs", min = 27 } }
]
setup = [
    { area = { id = "$location" } },
    { carries = [{ id = "knife" }, { id = "$logs", min = 27 }] },
]
actions = [
    { item = "knife", on = "$logs", success = { has_queue = { id = "fletching_make_dialog" } } },
    { option = "All", interface = "skill_creation_amount:all" },
    { continue = "dialogue_skill_creation:choice3", success = { has_queue = { id = "fletching" } } },
    { restart = true, success = { inventory_space = { min = 26 } } }
]
produces = [
    { skill = { id = "fletching" } }
]
