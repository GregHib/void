[buy_from_shop]
setup = [
    { carries = [{ id = "coins", min = "$cost" }] },
    { area = { id = "$shop_location" } },
    { inventory_space = { min = 1 } },
]
actions = [
    { npc = { option = "Trade", id = "$shopkeeper", success = { interface_open = { id = "shop" } } } },
    { interface = { option = "Buy-1", id = "shop:stock:$item", success = { carries = [{ id = "$item" }] } } },
]
produces = [
    { carries = [{ id = "$item" }] }
]

[take_shop_sample]
setup = [
    { area = { id = "$shop_location" } },
    { inventory_space = { min = 1 } },
]
actions = [
    { npc = { option = "Trade", id = "$shopkeeper", success = { interface_open = { id = "shop" } } } },
    { interface = { option = "Take-1", id = "shop:sample:$item", success = { carries = [{ id = "$item" }] } } },
]
produces = [
    { carries = [{ id = "$item" }] }
]