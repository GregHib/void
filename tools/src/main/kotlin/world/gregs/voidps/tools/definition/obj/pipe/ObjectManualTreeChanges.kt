package world.gregs.voidps.tools.definition.obj.pipe

import world.gregs.voidps.tools.Pipeline
import world.gregs.voidps.tools.definition.item.Extras
import java.io.File

class ObjectManualTreeChanges : Pipeline.Modifier<MutableMap<Int, Extras>> {

    val uids = mapOf(
        3037 to "oak_tree_dark",
        8462 to "oak_tree_farming",
        8463 to "oak_tree_farming",
        8464 to "oak_tree_farming",
        8465 to "oak_tree_farming",
        8466 to "oak_tree_farming",
        8467 to "oak_tree_farming",
        10083 to "oak_tree_construction",
        11999 to "oak_tree_pale",
        37479 to "oak_tree",
        38381 to "oak_tree",
        38731 to "oak_tree_trunk",
        38732 to "oak_tree_trunk",
        38736 to "oak_tree_canopy",
        38739 to "oak_tree_canopy",
        38741 to "oak_tree_stump",
        38754 to "oak_tree_stump",
        51675 to "oak_tree_canopy",
        1355 to "oak_tree_dark_stump",
        1356 to "oak_tree_stump",
        12007 to "oak_tree_pale_stump",
        8481 to "willow_tree_farming",
        8482 to "willow_tree_farming",
        8483 to "willow_tree_farming",
        8484 to "willow_tree_farming",
        8485 to "willow_tree_farming",
        8486 to "willow_tree_farming",
        8487 to "willow_tree_farming",
        8488 to "willow_tree_farming",
        13414 to "willow_tree_construction",
        13421 to "willow_tree_construction_2",
        38627 to "willow_tree_trunk",
        38717 to "willow_tree_canopy",
        38718 to "willow_tree_canopy",
        38725 to "willow_tree_stump",
        51682 to "willow_tree_canopy",
        7400 to "maple_tree_stump",
        8435 to "maple_tree_farming",
        8436 to "maple_tree_farming",
        8437 to "maple_tree_farming",
        8438 to "maple_tree_farming",
        8439 to "maple_tree_farming",
        8440 to "maple_tree_farming",
        8441 to "maple_tree_farming",
        8442 to "maple_tree_farming",
        8443 to "maple_tree_farming",
        8444 to "maple_tree_farming",
        13415 to "maple_tree_construction",
        13423 to "maple_tree_construction",
        46277 to "maple_tree",
        51843 to "maple_tree_trunk",
        54766 to "maple_tree_stump",
        54755 to "maple_tree_canopy",
        9037 to "teak_tree_stump",
        29090 to "achey_tree_roots",
        3287 to "swamp_tree_stump",
        3293 to "swamp_tree_trunk",
        3300 to "swamp_tree_trunk",
        3358 to "swamp_tree",
        9354 to "swamp_tree_trunk",
        9355 to "swamp_tree_trunk",
        9366 to "swamp_tree_trunk",
        9385 to "swamp_tree",
        9387 to "swamp_tree_trunk",
        9388 to "swamp_tree_trunk",
        11865 to "swamp_tree_stump",
        13843 to "swamp_tree_stump",
        13844 to "swamp_tree_canopy",
        13845 to "swamp_tree_branch_lasso",
        13847 to "swamp_tree_trim",
        13848 to "swamp_tree_trim",
        13849 to "swamp_tree_trim",
        13850 to "swamp_tree_trim",
        21357 to "swamp_tree",
        53055 to "swamp_tree",
        53065 to "swamp_tree",
        54801 to "swamp_tree",
        58108 to "swamp_tree_trunk",
        58109 to "swamp_tree_trunk",
        58121 to "swamp_tree_trunk",
        58135 to "swamp_tree_trunk",
        58140 to "swamp_tree_trunk",
        58141 to "swamp_tree_trunk",
        58142 to "swamp_tree_trunk",
        54778 to "evergreen_tree_trunk",
        54779 to "evergreen_tree_canopy",
        54783 to "evergreen_tree_stump",
        54787 to "evergreen_tree_trunk",
        54795 to "evergreen_tree_canopy",
        57931 to "evergreen_tree_stump",
        57932 to "evergreen_tree_trunk",
        57933 to "evergreen_tree_canopy",
        57934 to "evergreen_tree_trunk",
        57963 to "evergreen_tree_canopy",
        57964 to "evergreen_tree_trunk",
        57980 to "evergreen_tree_canopy",
        2020 to "dead_tree_climb",
        13411 to "dead_tree_construction",
        13418 to "dead_tree_construction",
        20750 to "dead_tree_climb_through",
        20751 to "dead_tree_search",
        15949 to "jungle_tree_fire",
        15950 to "jungle_tree_stump",
        15952 to "jungle_tree_fire",
        15953 to "jungle_tree_stump",
        15955 to "jungle_tree_fire",
        15956 to "jungle_tree_stump",
        21274 to "arctic_pine_tree_stump",
        4061 to "hollow_tree_stump",
        9035 to "mahogany_tree_stump",
        9034 to "mahogany_tree",
        46274 to "mahogany_tree",
        8503 to "yew_tree_farming",
        8504 to "yew_tree_farming",
        8505 to "yew_tree_farming",
        8506 to "yew_tree_farming",
        8507 to "yew_tree_farming",
        8508 to "yew_tree_farming",
        8509 to "yew_tree_farming",
        8510 to "yew_tree_farming",
        8511 to "yew_tree_farming",
        8512 to "yew_tree_farming",
        8513 to "yew_tree_farming",
        12001 to "yew_tree_stump",
        13416 to "yew_tree_construction",
        13422 to "yew_tree_construction",
        38755 to "yew_tree_trunk",
        38758 to "yew_tree_canopy",
        38759 to "yew_tree_stump",
        51645 to "yew_tree_canopy",
        8396 to "magic_tree_farming",
        8397 to "magic_tree_farming",
        8398 to "magic_tree_farming",
        8399 to "magic_tree_farming",
        8400 to "magic_tree_farming",
        8401 to "magic_tree_farming",
        8402 to "magic_tree_farming",
        8403 to "magic_tree_farming",
        8404 to "magic_tree_farming",
        8405 to "magic_tree_farming",
        8406 to "magic_tree_farming",
        8407 to "magic_tree_farming",
        8408 to "magic_tree_farming",
        8409 to "magic_tree_farming",
        13417 to "magic_tree_construction",
        13424 to "magic_tree_construction",
        37824 to "magic_tree_stump",
        37822 to "cursed_magic_tree_stump",
        51833 to "magic_tree_canopy",
        24734 to "beanstalk_stump",
        24736 to "beanstalk_stump",
        12272 to "jade_root_straight",
        12273 to "jade_root_straight",
        12274 to "jade_root_curly",
        12276 to "jade_root_curly",
        12277 to "jade_root_straight_cut",
        12279 to "jade_root_curly_cut",
        12283 to "jade_root_cut",
        40303 to "tree_canopy",
        38782 to "tree_canopy",
        40313 to "tree_canopy",
        38792 to "tree_canopy",
        38805 to "tree_canopy",
        38842 to "tree_canopy",
        39097 to "tree_canopy",
        39168 to "tree_canopy",
        38789 to "tree_canopy",
        40297 to "tree_canopy",
        40349 to "tree_canopy",
        38795 to "tree_canopy",
        61190 to "tree_trunk",
        61191 to "tree_trunk",
        61192 to "tree_trunk",
        61193 to "tree_trunk",
    )

    val stumps = File("tree-stumps-667.csv").readLines().mapIndexedNotNull { index, s ->
        val parts = s.split(",")
        if (index == 0 || parts[1].isEmpty()) {
            null
        } else {
            parts[0].toInt() to parts[1].toInt()
        }
    }.toMap()

    override fun modify(content: MutableMap<Int, Extras>): MutableMap<Int, Extras> {
        content.forEach { (id, content) ->
            val (builder, extras) = content
            uids.forEach { (match, replacement) ->
                if (id == match) {
                    builder.uid = replacement
                }
            }
            val uid = builder.uid
            stumps.forEach { (tree, stumpId) ->
                if (id == tree) {
                    extras["stump"] = stumpId
                }
            }
        }
        // Manual changes go here
        return content
    }
}
